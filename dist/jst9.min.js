!function(r,e){"function"==typeof define&&define.amd?define(["axios"],function(n){return r.jsT9=e(n)}):"object"==typeof exports?module.exports=e(require("axios")):r.jsT9=e(r.axios)}(this,function(r){"use strict";var e=function(r,e){this.config={sort:function(r,e){return r.length<e.length?-1:r.length>e.length?1:e>=r?-1:1},maxAmount:1/0,caseSentitive:!0,dataSource:""},function(r,e){for(var n in e)r[n]=e[n];return r}(this.config,e),this.root={branches:[]},this._getWordList(r,function(r){var e;for(var n in r)e=r[n],this.addWord(e)}.bind(this))};return e.prototype={constructor:e,predict:function(r,e){if("undefined"==typeof r)return[];e=e||this.config.maxAmount;for(var n=this.root,t=!1,s="";!t;){for(var i=!1,a=0;a<r.length&&!i;a++){var o=r.substring(0,r.length-a);for(var h in n.branches)if(0===n.branches[h].prefix.indexOf(o)){s+=n.branches[h].prefix,r=n.branches[h].prefix===o?r.substring(r.length-a):"",n=n.branches[h],i=!0;break}}if(!i)return[];0===r.length&&(t=!0)}var c;n.$===!0&&(c=s);var f=this._exploreBranch(s,n);return c&&f.push(c),f.sort(this.config.sort),f.slice(0,e)},addWord:function(r){for(var e=this.root,n=!1;!n;){var t,s=!1,i=!1;for(var a in e.branches){if(this._tryCase1(e,r,a))return;if(t=this._tryCase2(e,r,a)){r=t.word,e=t.branch,s=!0;break}if(this._tryCase3(e,r,a)){i=n=s=!0;break}}this._tryCase4(e,r,s)&&(n=!0)}},_tryCase1:function(r,e,n){return r.branches[n].prefix===e?(r.branches[n].$=!0,!0):!1},_tryCase2:function(r,e,n){return 0===e.indexOf(r.branches[n].prefix)?(e=e.substring(r.branches[n].prefix.length),r=r.branches[n],{branch:r,word:e}):!1},_tryCase3:function(r,e,n){for(var t,s=0;s<=e.length-1;s++){var i=e.substring(0,e.length-s),a=e.substring(e.length-s);if(0===r.branches[n].prefix.indexOf(i)){t={prefix:i,branches:[],$:0===a.length};var o={prefix:r.branches[n].prefix.substring(i.length),branches:r.branches[n].branches,$:r.branches[n].$};if(r.branches[n]=t,r.branches[n].branches.push(o),a.length>0){var h={prefix:a,branches:[],$:!0};r.branches[n].branches.push(h)}return!0}}},_tryCase4:function(r,e,n){var t;return n?!1:(t={prefix:e,branches:[],$:!0},r.branches.push(t),!0)},_exploreBranch:function(r,e){var n=[];for(var t in e.branches){var s=e.branches[t].prefix;e.branches[t].$===!0&&n.push(r+s);var i=this._exploreBranch(r+s,e.branches[t]);n=n.concat(i)}return n},_getWordList:function(r,e){Array.isArray(r)?e(r):"string"==typeof r?this._fetchWordList(r,e):(console.error(typeof r+" variable is not supported as data source"),e([]))},_fetchWordList:function(e,n){var t=[];r.get(e).then(function(r){var e=r.data;"text"===r.responseType&&(e=JSON.parse(e)),Array.isArray(e.words)&&(t=e.words),n(t)})["catch"](function(r){console.error(r),n(t)})}},e});